# 2λ‹¨κ³„: ν•µμ‹¬ κΈ°λ¥ μ‹¤μµ (Core Feature Practice)

μ΄ λ‹¨κ³„μ—μ„λ” Milvusμ ν•µμ‹¬ κΈ°λ¥μΈ μΈλ±μ‹±κ³Ό κ²€μƒ‰ μµμ ν™”λ¥Ό μ‹¬ν™” ν•™μµν•©λ‹λ‹¤.

## ν•™μµ λ©ν‘

- β… λ‹¤μ–‘ν• μΈλ±μ¤ μ•κ³ λ¦¬μ¦ μ΄ν•΄ λ° μ„±λ¥ λΉ„κµ
- β… κ²€μƒ‰ νλΌλ―Έν„° μµμ ν™”μ™€ μ„±λ¥ νλ‹
- β… νν‹°μ… κΈ°λ° λ°μ΄ν„° κ΄€λ¦¬ μ „λµ
- β… ν•μ΄λΈλ¦¬λ“ κ²€μƒ‰ λ° λ³µν•© μ΅°κ±΄ κ²€μƒ‰

## π“ μ‹¤μµ νμΌ

### 1. **01_index_management.py** - μΈλ±μ¤ κ΄€λ¦¬ μ‹¤μµ
```bash
python step02_core_features/01_index_management.py
```
**ν•™μµ λ‚΄μ©:**
- IVF_FLAT, IVF_SQ8, HNSW μΈλ±μ¤ λΉ„κµ
- μΈλ±μ¤ νλΌλ―Έν„° νλ‹ (M, efConstruction, nlist)
- μ„±λ¥ λ²¤μΉλ§ν¬ λ° QPS μΈ΅μ •
- λ©”λ¨λ¦¬ μ‚¬μ©λ‰ vs κ²€μƒ‰ μ†λ„ νΈλ μ΄λ“μ¤ν”„

### 2. **02_search_optimization.py** - κ²€μƒ‰ μµμ ν™” μ‹¤μµ  
```bash
python step02_core_features/02_search_optimization.py
```
**ν•™μµ λ‚΄μ©:**
- κΈ°λ³Έ λ²΅ν„° κ²€μƒ‰ vs ν•„ν„°λ§ κ²€μƒ‰
- λ³µν•© μ΅°κ±΄ κ²€μƒ‰ (AND, OR, λ²”μ„ μ΅°κ±΄)
- ef νλΌλ―Έν„° νλ‹μΌλ΅ μ†λ„/μ •ν™•λ„ μ΅°μ 
- λ‹¤μ¤‘ μΏΌλ¦¬ λ°°μΉ κ²€μƒ‰
- κ²€μƒ‰ μ„±λ¥ λ¶„μ„ λ° μµμ ν™”

### 3. **03_partition_management.py** - νν‹°μ… κ΄€λ¦¬ μ‹¤μµ
```bash
python step02_core_features/03_partition_management.py
```
**ν•™μµ λ‚΄μ©:**
- μΉ΄ν…κ³ λ¦¬/μ§€μ—­/μ‹κ°„ κΈ°λ° νν‹°μ… μ „λµ
- νν‹°μ…λ³„ λ°μ΄ν„° μ‚½μ… λ° κ΄€λ¦¬
- νν‹°μ… κ²€μƒ‰ μ„±λ¥ λΉ„κµ
- νν‹°μ… λ΅λ“/μ–Έλ΅λ“ μµμ ν™”
- νν‹°μ… ν†µκ³„ λ° λ¨λ‹ν„°λ§

## π€ μ‹μ‘ν•κΈ°

### μ‚¬μ „ μ”κµ¬μ‚¬ν•­
- β… 1λ‹¨κ³„ κΈ°λ³Έ μ‹¤μµ μ™„λ£
- β… Milvus μ„λ²„ μ‹¤ν–‰ μ¤‘ (`docker-compose ps`λ΅ ν™•μΈ)
- β… κ°€μƒν™κ²½ ν™μ„±ν™” (`source venv/bin/activate`)

### κ¶μ¥ μ‹¤μµ μμ„
```bash
# 1λ‹¨κ³„ μ™„λ£ ν™•μΈ
python step01_basics/04_data_insertion.py

# 2λ‹¨κ³„ μ‹¤μµ μ‹μ‘
python step02_core_features/01_index_management.py
python step02_core_features/02_search_optimization.py  
python step02_core_features/03_partition_management.py
```

## π― μ£Όμ” κΈ°μ  μ¤νƒ

| κΈ°μ  μμ—­ | κΈ°μ  μ¤νƒ | μ„¤λ… |
|-----------|-----------|------|
| **μΈλ±μ¤** | IVF_FLAT, IVF_SQ8, HNSW | λ‹¤μ–‘ν• μΈλ±μ¤ μ•κ³ λ¦¬μ¦ λΉ„κµ |
| **κ²€μƒ‰** | λ²΅ν„° κ²€μƒ‰, ν•„ν„°λ§, ν•μ΄λΈλ¦¬λ“ | μµμ ν™”λ κ²€μƒ‰ μ „λµ |
| **νν‹°μ…** | μ‹κ°„/μΉ΄ν…κ³ λ¦¬/μ§€μ—­ λ¶„ν•  | λ€μ©λ‰ λ°μ΄ν„° κ΄€λ¦¬ |
| **λ©”νΈλ¦­** | L2, IP, μ„±λ¥ μΈ΅μ • | κ±°λ¦¬ κ³„μ‚° λ° μ„±λ¥ λ¶„μ„ |
| **μµμ ν™”** | νλΌλ―Έν„° νλ‹, λ²¤μΉλ§ν‚Ή | μ‹¤μ  μ΄μ μµμ ν™” |

## π’΅ ν•™μµ μ„±κ³Ό

μ΄ λ‹¨κ³„λ¥Ό μ™„λ£ν•λ©΄ λ‹¤μμ„ ν•  μ μκ² λ©λ‹λ‹¤:

- π” **μΈλ±μ¤ μ „λ¬Έκ°€**: λ‹¤μ–‘ν• μΈλ±μ¤ μ•κ³ λ¦¬μ¦μ νΉμ„±κ³Ό μµμ  μ‚¬μ© μ‹λ‚λ¦¬μ¤ μ΄ν•΄
- β΅ **μ„±λ¥ μµμ ν™”**: κ²€μƒ‰ μ„±λ¥μ„ μ„ν• νλΌλ―Έν„° νλ‹κ³Ό μ„±λ¥ λ¶„μ„
- π“ **λ°μ΄ν„° κ΄€λ¦¬**: νν‹°μ…μ„ ν™μ©ν• ν¨μ¨μ μΈ λ€μ©λ‰ λ°μ΄ν„° κ΄€λ¦¬
- π”§ **μ‹¤λ¬΄ μ μ©**: μ‹¤μ  ν”„λ΅λ•μ… ν™κ²½μ—μ„ ν™μ© κ°€λ¥ν• μµμ ν™” μ „λµ

## π› οΈ μ‹¤μµ νΉμ§•

- **μ‹¤μ  μ„±λ¥ λ°μ΄ν„°**: κ° μ‹¤μµμ—μ„ QPS, λ μ΄ν„΄μ‹ λ“± μ‹¤μ  μ„±λ¥ μ§€ν‘ μΈ΅μ •
- **λΉ„κµ λ¶„μ„**: λ‹¤μ–‘ν• μ„¤μ •μ μ„±λ¥μ„ λΉ„κµν•μ—¬ μµμ  μ΅°ν•© λ„μ¶
- **μ‹¤λ¬΄ μ¤‘μ‹¬**: μ‹¤μ  μ΄μ ν™κ²½μ—μ„ λ°”λ΅ μ μ© κ°€λ¥ν• μ‹¤μµ λ‚΄μ©
- **μλ™ μ •λ¦¬**: μ‹¤μµ μ™„λ£ ν›„ ν…μ¤νΈ λ°μ΄ν„° μλ™ μ •λ¦¬

## λ‹¤μ λ‹¨κ³„

2λ‹¨κ³„ μ™„λ£ ν›„ [3λ‹¨κ³„: μ‹¤μ  μ‚¬μ© μ‚¬λ΅€ κµ¬ν„](../step03_use_cases/README.md)μΌλ΅ μ§„ν–‰ν•μ„Έμ”. 